services:
  jsonapi_comments.controller:
    parent: jsonapi.entity_resource
    class: Drupal\jsonapi_comments\Controller\JsonapiCommentsController

  jsonapi_comments.jsonapi_hypermedia_provider:
    class: Drupal\jsonapi_comments\HypermediaProvider\DefaultProvider
    arguments: ['@jsonapi.resource_type.repository']
    tags:
      - { name: jsonapi_hypermedia_provider, priority: 0 }

  paramconverter.jsonapi_comments.entity_uuid:
    parent: paramconverter.jsonapi.entity_uuid
    class: Drupal\jsonapi_comments\ParamConverter\JsonApiCommentsEntityUuidConverter
    tags:
      # Priority 10, to ensure it runs before @paramconverter.entity.
      - { name: paramconverter, priority: 10 }
