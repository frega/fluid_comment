services:
  jsonapi_comments.controller:
    parent: jsonapi.entity_resource
    class: Drupal\jsonapi_comments\Controller\JsonapiCommentsController

  access_check.jsonapi_comments.comment_field_access:
    class: Drupal\jsonapi_comments\Access\CommentFieldAccess
    arguments: ['@jsonapi.entity_access_checker']
    tags:
      - { name: access_check, applies_to: _jsonapi_comments_comment_field_access, needs_incoming_request: TRUE }

  jsonapi_comments.jsonapi_hypermedia_provider:
    class: Drupal\jsonapi_comments\HypermediaProvider\DefaultProvider
    arguments: ['@entity_type.manager']
    tags:
      - { name: jsonapi_hypermedia_provider, priority: 0 }
